# ì€í–‰ì°½êµ¬ ë§¤ë‹ˆì €
> ì€í–‰ì„ ë°©ë¬¸í•œ ê³ ê°ë“¤ì˜ ì—…ë¬´ë¥¼ ì—¬ëŸ¬ëª…ì˜ ì€í–‰ì›ì´ ì²˜ë¦¬í•˜ë„ë¡ ë§Œë“  UIì•±ì…ë‹ˆë‹¤.
>
> í”„ë¡œì íŠ¸ ê¸°ê°„: 2023.03.06 - 2023.03.17
> 

## íŒ€ì›
| ë¬´ë¦¬ | ë¦¬ì§€ |
| :--------: |  :--------: | 
| <Img src = "https://i.imgur.com/RoWuqsN.jpg" width="200" height="200"/>      |<Img src ="https://user-images.githubusercontent.com/114971172/221088543-6f6a8d09-7081-4e61-a54a-77849a102af8.png" width="200" height="200"/>
| [Github Profile](https://github.com/parkmuri) |[Github Profile](https://github.com/yijiye)

## ëª©ì°¨
1. [íƒ€ì„ë¼ì¸](#íƒ€ì„ë¼ì¸)
2. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
3. [ì‹¤í–‰í™”ë©´](#ì‹¤í–‰í™”ë©´) 
4. [ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì ìš©í•œ ê¸°ìˆ ](#ì´ë²ˆ-í”„ë¡œì íŠ¸ì—ì„œ-ì ìš©í•œ-ê¸°ìˆ )
5. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…) 
6. [í•µì‹¬ê²½í—˜](#í•µì‹¬ê²½í—˜)
7. [íŒ€ íšŒê³ ](#íŒ€-íšŒê³ )
8. [ì°¸ê³  ë§í¬](#ì°¸ê³ -ë§í¬)


# íƒ€ì„ë¼ì¸ 
- 2023.03.06 : LinkedListë¥¼ ì´ìš©í•˜ì—¬ Queue êµ¬í˜„, UnitTest 
- 2023.03.07 : Bank, Client êµ¬í˜„
- 2023.03.08 : BankClerk êµ¬í˜„, Bank, Client refactoring
- 2023.03.09 : DispathQueue ì ìš©
- 2023.03.10 : refactoring, README.md ì‘ì„±
- 2023.03.13 : UIApp í”„ë¡œì íŠ¸ Custom View êµ¬í˜„
- 2023.03.14 : UIConsolApp ì™„ë£Œ, Custom View autolayout, Model íŒŒì¼ ì¶”ê°€
- 2023.03.15 : ê³ ê° ì •ë³´ ì „ë‹¬(delegate) ë° í™”ë©´ êµ¬í˜„, OperantionQueue êµ¬í˜„ 
- 2023.03.16 : ì´ˆê¸°í™” ë²„íŠ¼, Timer êµ¬í˜„
- 2023.03.17 : refactoring, README.md ì‘ì„±


<br/>

# í”„ë¡œì íŠ¸ êµ¬ì¡°

<img src="https://i.imgur.com/B46wnSr.png" width="1500">


<br/>


# ì‹¤í–‰í™”ë©´

## ConsoleApp
<img src="https://i.imgur.com/jF0aH41.gif">

## UIApp

|<center>ì‹¤í–‰í™”ë©´</center>|<center>ì„¤ëª…</center>|
|---|---|
|<img src="https://i.imgur.com/gRoPJF4.gif" width="300">| 1. ì•± ì‹œì‘ í›„ ê³ ê° 10ëª… ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì—…ë¬´ ì‹œê°„ì´ ì¦ê°€í•©ë‹ˆë‹¤. </br></br> 2. ê³ ê°ì´ ì¡´ì¬í•˜ëŠ” ìƒíƒœì—ì„œ ê³ ê° 10ëª… ì¶”ê°€í•˜ë©´ ë²ˆí˜¸ê°€ ì—°ê²°ë˜ì–´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</br></br> 3. ì—…ë¬´ ì¤‘ ì´ˆê¸°í™” ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëŒ€ê¸°ì¤‘, ì—…ë¬´ì¤‘ì— ì¡´ì¬í•˜ëŠ” ê³ ê°ë“¤ì´ ëª¨ë‘ ì‚¬ë¼ì§€ê³  ì—…ë¬´ ì‹œê°„ë„ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. </br></br> 4. ê³ ê°ì— ëŒ€í•œ ì—…ë¬´ë¥¼ ë§ˆì¹˜ê²Œë˜ë©´ ì´ ê±¸ë¦° ì‹œê°„ì´ í‘œì‹œë©ë‹ˆë‹¤.|

<br/>

# ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì ìš©í•œ ê¸°ìˆ 

- LinkedList & Node
- Queue
- DispatchQueue
- OperationQueue
- ì½”ë“œë¡œ UIêµ¬í˜„
- Canvas
- Delegate Pattern
- Timer
- fmod()


# íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
## 1ï¸âƒ£ STEP3ì˜ ìš”êµ¬ì‚¬í•­ ì¤‘ `ì„¸ ëª…ì˜ ì€í–‰ì›`ì— ëŒ€í•œ í•´ì„
> ì€í–‰ì—ëŠ” 3ëª…ì˜ ì€í–‰ì›ì´ ê·¼ë¬´í•©ë‹ˆë‹¤(ì˜ˆê¸ˆë‹´ë‹¹ 2ëª…, ëŒ€ì¶œë‹´ë‹¹ 1ëª…)

- ì€í–‰ì—ëŠ” ì€í–‰ì›ì´ ì„¸ ëª… ê·¼ë¬´í•˜ë„ë¡ ì•ˆë‚´ë˜ì–´ìˆì—ˆìŠµë‹ˆë‹¤. `BankClerk`íƒ€ì…ì„ êµ¬í˜„ í•´ ë†“ì€ í›„ë¼ì„œ "ì„¸ ê°œì˜ global ìŠ¤ë ˆë“œ ì•ˆì— ê°ê° BankClerk ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ë©´ ë˜ì§€ ì•Šì„ê¹Œ?" ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤. 
- ì €í¬ê°€ ë§Œë“¤ì–´ ë†“ì€ ë¡œì§ì—ì„œëŠ” ì€í–‰ì›ì´ ì§ì ‘ ì†ë‹˜ë“¤ì˜ ëŒ€ê¸°ì—´ì„ dequeueí•˜ì§€ ì•Šê³ , ì€í–‰ ë‚´ë¶€ì—ì„œ dequeueí•œ ì†ë‹˜ë“¤ì„ ëª©ì (ëŒ€ì¶œ or ì˜ˆê¸ˆ)ì— ë”°ë¼ ì€í–‰ì›ì—ê²Œ ë³´ë‚´ì£¼ë„ë¡ êµ¬í˜„í•´ë†“ì•˜ìŠµë‹ˆë‹¤. 
ì´ ìƒíƒœì—ì„œ ìœ„ ì²˜ëŸ¼ ìƒê° í›„ ë¹„ë™ê¸° ìŠ¤ë ˆë“œë¥¼ êµ¬í˜„í•˜ë‹ˆ ì˜ˆê¸ˆëª©ì  ì†ë‹˜ë“¤ì€ ì˜ˆê¸ˆì„ ë‹´ë‹¹í•˜ëŠ” ë‘ ëª…ì˜ ì€í–‰ì› ìŠ¤ë ˆë“œë¥¼ ëŒê²Œë˜ëŠ” ë“±ì˜ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
- BankClerkì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì€í–‰ì›ì˜ ì‹¤ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì€í–‰ì›ì„ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë¡œ ìƒê° í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” BankClerkì˜ ì¸ìŠ¤í„´ìŠ¤ í•œê°œë¥¼ ì „ì—­ë³€ìˆ˜ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  **ì ‘ê·¼í•˜ëŠ” ìŠ¤ë ˆë“œì˜ ìˆ˜ (=ì€í–‰ì›)** ë¥¼ `Semaphore`ë¡œ ì œí•œí•¨ìœ¼ë¡œì¨ ì´ 3ëª…ì˜ ì€í–‰ì›ì´ ì¼ì„ ì²˜ë¦¬í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
```swift
// Bank.swift
private var bankClerk = BankClerk()
private let loanBankClerk = DispatchSemaphore(value: 1)
private let depositBankClerks = DispatchSemaphore(value: 2)

private func dispatchQueue(_ currentClient: Client) {
    let depositService = DispatchWorkItem() {
        depositBankClerks.wait()
        bankClerk.service(to: currentClient)
        depositBankClerks.signal()
    }
    let loanService = DispatchWorkItem() {
        loanBankClerk.wait()
        bankClerk.service(to: currentClient)
        loanBankClerk.signal()
    }

    if currentClient.purposeOfVisit == .deposit {
            DispatchQueue.global().async(execute: depositService)
    } else {
        DispatchQueue.global().async(execute: loanService)
    }
}
```

## 2ï¸âƒ£ ìŠ¤ë ˆë“œ ì‹¤í–‰ ìˆœì„œ ê³ ë¯¼
- ì€í–‰ì›ì„ ìŠ¤ë ˆë“œë¡œ ìƒê°í•˜ì—¬ `DispatchQueue.global().async` ë¡œ 3ëª…ì˜ ì€í–‰ì›ì—ì„œ ê³ ê°ë“¤ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ëŠ”ë°, ë©”ì¸ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ì—¬ ì‘ì—…ì´ ëë‚˜ê¸° ì „ì— ë©”ì¸ìŠ¤ë ˆë“œì— ìˆëŠ” `notifyTaskCompletion` ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ì–´ í•¨ìˆ˜ ë‚´ë¶€ì˜ printë¬¸ì´ ì¶œë ¥ë˜ëŠ” ì˜¤ë¥˜ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
ì‹¤í–‰ ìˆœì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì `DispatchGroup`ì„ ì „ì—­ìƒìˆ˜ë¡œ ë‘ê³ `DispatchQueue.global().async`ë¥¼ groupë¡œ ë¬¶ì–´ì¤€ í›„ `group.wait()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë•Œ, ì‹œê°„ì„ ê³„ì‚°í•˜ê³  printë¬¸ì´ ì¶œë ¥ë˜ì–´ì•¼ í•˜ë¯€ë¡œ doTask() ì¼ì´ ëë‚˜ëŠ” ê³³ì—ì„œ `group.wait()`ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
// Bank.swift
private let group = DispatchGroup

mutating func doTask() {
    for _ in 1...waitingLine.count {
        guard let currentClient = waitingLine.dequeue() else { return }
        dispatchQueue(currentClient)
    }

    group.wait()
}

private func dispatchQueue(_ currentClient: Client) { 
    // ...
    if currentClient.purposeOfVisit == .deposit {
        DispatchQueue.global().async(group: group, execute: depositService)
    } else {
        DispatchQueue.global().async(group: group, execute: loanService)
    }
}
```

### 3ï¸âƒ£ DispatchQueueì™€ OperationQueue
- ë¨¼ì € STEP3ì—ì„œëŠ” DispatchQueueë¥¼ ì´ìš©í•˜ì—¬ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤(íŠ¸ëŸ¬ë¸”ìŠˆíŒ…1ï¸âƒ£, 2ï¸âƒ£). UI ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ `client`ì˜ ì •ë³´ë¥¼ ì „ë‹¬ì„ Delegateë¥¼ êµ¬í˜„í•œ í›„, DispatchQueueì—ì„œ Main Threadë¥¼ ì´ìš©í•˜ì—¬ UI ì—…ë°ì´íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ë‹¤ `ì´ˆê¸°í™”`ë²„íŠ¼ì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•œ DispatchQueueì˜ Cancelì— ëŒ€í•´ ê³ ë¯¼ì„ í•´ë³´ë‹¤ OperationQueueëŠ” ìŠ¤ì¼€ì¥´ë§ì— ìš©ì´í•˜ë‹¤ëŠ” ì ê³¼ ë¦¬ë·°ì–´ì˜ í”¼ë“œë°± ì¤‘ OperationQueueë„ ì‚¬ìš©í•´ë³´ë¼ëŠ” ë¦¬ë·°ê°€ ìƒê°ë‚˜ OperationQueueë¥¼ ì ìš©ì‹œì¼œë³´ì•˜ìŠµë‹ˆë‹¤.

### 4ï¸âƒ£ Timer êµ¬í˜„
- í”„ë¡œì íŠ¸ì—ì„œ ì•±ì´ ì‹œì‘ë˜ëŠ” ë™ì•ˆ ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ Timerë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ì‹œê°„ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‹œí–‰ì°©ì˜¤ê°€ ìˆì—ˆê³ , ì•„ë˜ì™€ ê°™ì´ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

#### ë¬¸ì œì 
- ë¨¼ì € clientê°€ 10ëª… ì¶”ê°€ë ë•Œ íƒ€ì´ë¨¸ê°€ ì‹œì‘ë˜ì–´ì•¼ í•œë‹¤ê³  ìƒê°í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ë²„íŠ¼ì´ ëˆŒë¦¬ëŠ” ê³³ì—ì„œ `Date()`ë¥¼ ì‚¬ìš©í•´ `startTime`ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
```swift
final class BankAppViewController: UIViewController {
    var startTime
    // ì¤‘ëµ 
    private func addClientButtonTapped() {
        buttonStackView.addClientButton.addTarget(self, action: #selector(addTenClients), for: .touchUpInside)
    }
    
    @objc private func addTenClients() {
        bank.lineUpClient()
        bank.doTask()
        isOpen = true
        self.startTime = Date()
    }
```

- ê·¸ë¦¬ê³  íƒ€ì´ë¨¸ê°€ ì‹œì‘ë˜ë©´ timeIntervalì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„,ì´ˆ,ë°€ë¦¬ì„¸ì»¨ë“œë¡œ ë‚˜ëˆ ì„œ ë„ìš°ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. timeIntervalì€ í˜„ì¬ì˜ `timeInterval`ê³¼ `startTime`ì„ ë¹„êµí•˜ì—¬ ê·¸ ì°¨ì´ê°€ ë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
private func setUpTimer() {
        self.timer = Timer.scheduledTimer(timeInterval: 0.001, target: self, selector: #selector(timeUp), userInfo: nil, repeats: true)
    }
    
    @objc private func timeUp() {
     
        let timeInterval = Date().timeIntervalSince(self.startTime)
        // ë¶„,ì´ˆ,ì‹œ ê³„ì‚°ì‹ ìƒëµ
    }
```

- ìœ„ì™€ê°™ì´ ì‹¤í–‰í•˜ë‹ˆ `ê³ ê° 10ëª… ì¶”ê°€` ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œë§ˆë‹¤ startTimeì´ ì´ˆê¸°í™”ë˜ëŠ” ë¬¸ì œì™€ ì—…ë¬´ê°€ ì¢…ë£Œë ë•Œ íƒ€ì´ë¨¸ë¥¼ ë©ˆì¶”ê²Œ í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼í–ˆìŠµë‹ˆë‹¤. 

#### í•´ê²° ë°©ì•ˆ

- ì•±ì˜ ì‹œì‘ ì¢…ë£Œë¥¼ `isOpened` ë¼ëŠ” bool íƒ€ì… ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.
`ê³ ê° 10ëª… ì¶”ê°€` ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œ, ì•±ì´ ì‹œì‘ë¨ê³¼ ë™ì‹œì— `isOpened == true` ë¡œ ë°”ë€Œë©´ì„œ ì‹œê°„ì„ ì¸¡ì •í•˜ê³  ì—…ë¬´ì¤‘ì¸ ê³ ê°ê³¼ ëŒ€ê¸°ì¤‘ì¸ ê³ ê°ì´ ì—†ì„ ë•Œ `isOpened == false`ë¡œ ë°”ë€Œë©´ì„œ ì•±ì´ ì¢…ë£Œë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. 
- ì´ë•Œ `taskTime`ì„ ì „ì—­ë³€ìˆ˜ë¡œ ë‘ì–´ `isOpened == true`ê°€ ë˜ë©´ì„œ `taskTime += 0.001 `ì´ ì¦ê°€í•˜ê³  ì´ë¥¼ labelì— ë„£ì–´ í™”ë©´ì— ë„ì› ìŠµë‹ˆë‹¤.
```swift
private func setUpTimer() {
        self.timer = Timer.scheduledTimer(timeInterval: 0.001, target: self, selector: #selector(timeUp), userInfo: nil, repeats: true)
    }
    
@objc private func timeUp() {
    if isOpened == true {
            taskTime += 0.001
    }
```


# í•µì‹¬ê²½í—˜

<details>
    <summary><big>âœ… LinkedListë¥¼ ì´ìš©í•œ Queue êµ¬í˜„</big></summary>
    
### removeAll() êµ¬í˜„
- `removeAll()` ì˜ ê¸°ëŠ¥ì€ enqueueëœ ê°’ì„ ëª¨ë‘ ì‚­ì œí•˜ëŠ” ê²ƒì´ë¼ ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤. ì²˜ìŒ ìƒê°í•œ ì ì€ ê°’ì„ í•˜ë‚˜ì”© ì‚­ì œë¥¼ í•´ì¤˜ì•¼í•˜ë‚˜? ê³ ë¯¼í•˜ì˜€ëŠ”ë°, ì—°ê²°ë¦¬ìŠ¤íŠ¸ì˜ íŠ¹ì„±ìƒ ë…¸ë“œê°€ ë‹¤ìŒ ê°’ì˜ ì£¼ì†Œê°’ê³¼ ì—°ê²°ë˜ì–´ ìˆìœ¼ë¯€ë¡œ headì™€ tailì„ nilë¡œ ë³€í™˜í•˜ë©´ ê°€ë¥´í‚¤ëŠ” ì£¼ì†Œê°’ì´ ì‚¬ë¼ì§€ê²Œ ë˜ê³  ê²°êµ­ swiftì˜ ARCê°€ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•œë‹¤ëŠ” ì ì„ ê³ ë ¤í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    
```swift
 mutating func removeAll() {
    self.head = nil
    self.tail = nil
    count = 0
}
```
    
### append êµ¬í˜„
- ì²˜ìŒ appen êµ¬í˜„ì‹œ ì¡°ê±´ë¬¸ì„ ifë¡œ ì‚¬ìš©í•˜ì—¬ return ì„ êµ¬í˜„í•˜ì§€ ì•Šì•„ append ê¸°ëŠ¥ì— ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. 
    
ìˆ˜ì • ì „ ì½”ë“œ
```swift
 mutating func append(_ data: T) {
    if isEmpty {
        self.head = Node(data: data)
        self.tail = head
        count += 1
    }
```
- ë¹„ì–´ìˆì„ ë•Œ, headì— ìƒˆë¡œìš´ Nodeë¥¼ ì£¼ê³  Nodeê°€ headì´ì tailì´ ë˜ë„ë¡ í•œ í›„ ì½”ë“œë¥¼ ë¹ ì ¸ë‚˜ì˜¤ë„ë¡ return ê°’ì„ ì£¼ë©´ì„œ ë¹ ë¥¸ ì¢…ë£Œë¥¼ ìœ„í•´ guardë¬¸ìœ¼ë¡œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.
    
ìˆ˜ì • í›„ ì½”ë“œ
```swift
 mutating func append(_ data: T) {
    guard !isEmpty else {
        self.head = Node(data: data)
        self.tail = head
        count += 1
    
        return
    }
```
    
### count ì¶”ê°€
- step2ë¥¼ ì§„í–‰í•˜ë©´ì„œ countì˜ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ ìƒê°í•˜ì—¬ countë¥¼ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ LinkedListë¥¼ swiftì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” íƒ€ì…ì´ ì•„ë‹ˆë¯€ë¡œ countë¥¼ ì„¸ëŠ” ê²ƒì„ ì§ì ‘ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ enqueue ë˜ë©´ì„œ countë¥¼ í•˜ë‚˜ì”© ì¦ê°€í•˜ê³ , dequeue ë  ë•Œ countê°€ í•˜ë‚˜ì”© ê°ì†Œí•˜ë©° removeAll í•˜ë©´ countê°€ ë‹¤ì‹œ 0ì´ ë˜ë„ë¡ ì§ì ‘ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
</details>


<details>
    <summary><big>âœ… ì‹œê°„ ì¸¡ì •</big></summary>
    
- ì€í–‰ì› 1ëª…ì´ 1ëª…ì˜ ê³ ê°ì„ ì²˜ë¦¬í•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ ì¡°ê±´ì´ ìˆì—ˆê³ , ê·¸ ì‹œê°„ì„ ì¸¡ì •í•˜ì—¬ í•˜ë£¨ë™ì•ˆ ì¼í•œ ì‹œê°„ì„ print í•˜ëŠ” ë¯¸ì…˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ê·¸ ì‹œê°„ì„ ì¸¡ì •í•˜ê¸° ìœ„í•´ `usleep()`ì„ ì‚¬ìš©í•˜ì—¬ ì •í•´ì§„ ì‹œê°„ë§Œí¼ ì¼ì„ ì²˜ë¦¬í•˜ê³  ê·¸ í•©ì„ `CFAbsoluteTimeGetCurrent()` ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.
```swift
mutating func checkTaskTime() -> String {
        let startTime = CFAbsoluteTimeGetCurrent()
        
        doTask()
        
        let timeOfTask = CFAbsoluteTimeGetCurrent() - startTime
        let totalTime = String(format: "%.2f", timeOfTask)
        
        return totalTime
    }
```
    
ì¶”ê°€ì ìœ¼ë¡œ ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” Thread.sleep()ê³¼ sleep()ì— ëŒ€í•´ ì¢€ ë” ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤.
    
```swift
// sleep
static func sleep(_ duration: UInt64) async

// Thread.sleep
@_unavailableFromAsync(message: "Use Task.sleep(until:clock:) instead.") 
class func sleep(forTimeInterval ti: TimeInterval)
```
- ë‘ ë©”ì„œë“œ ëª¨ë‘ ì •í•´ì§„ ì‹œê°„ë§Œí¼ ì—…ë¬´ ìˆ˜í–‰ì„ ì¤‘ì§€ ì‹œí‚¤ëŠ” ë©”ì„œë“œë¡œ ê°€ì¥ í° ì°¨ì´ë¡œëŠ” static íƒ€ì… ë©”ì„œë“œì¸ ê²ƒê³¼ class íƒ€ì… ë©”ì„œë“œ ì¸ ì ì´ ìˆìŠµë‹ˆë‹¤.
Thread.sleep()ì´ Foundation FrameWorkì˜ Thread classì— ì •ì˜ëœ ë©”ì„œë“œë¡œ, swiftì— ë” ìµœì í™”ë˜ì–´ ìˆìœ¼ë‚˜ ê¸°ëŠ¥ì ìœ¼ë¡œ ì°¨ì´ëŠ” ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤.
    
</details>

<details>
    <summary><big>âœ… ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ëœ ì‘ì—… UIì— ë„ìš°ê¸°</big></summary>

- UIKitì€ thread safe í•˜ì§€ ì•Šì•„ Race Conditionì´ ë°œìƒí•  ìœ„í—˜ì´ ìˆê¸° ë•Œë¬¸ì— main ìŠ¤ë ˆë“œì—ì„œ ë„ì›Œì¤˜ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ConsolAppì—ì„œ êµ¬í˜„í•œ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ëŠ” ì‘ì—…ì„ ì–´ë–»ê²Œ main ìŠ¤ë ˆë“œì—ì„œ ë„ì›Œì¤„ ìˆ˜ ìˆëŠ”ì§€ ê³ ë¯¼í•˜ì˜€ìŠµë‹ˆë‹¤. ì €í¬ëŠ” bankì—ì„œ ì¼ì–´ë‚˜ëŠ” ë°ì´í„°ì˜ ë³€í™”ë¥¼ ì „ë‹¬ë°›ê³ ì delegateë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤. bankì—ì„œ ViewControllerì— ì „ë‹¬í•´ì£¼ê³ , ViewControllerì—ì„œ ìœ„ì„í•˜ì—¬ UIì— ë„ì›Œì£¼ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    
#### ìˆœì„œ
  - ViewController `ê³ ê° 10ëª… ì¶”ê°€` ë²„íŠ¼ í´ë¦­
  - bank.lineUpClient() ì‹¤í–‰
     - delegate?.sendData(of: currentClient) : enqueuë˜ëŠ” ê³ ê° ì •ë³´ë¥¼ ë„˜ê¹€
  - bank.doTask() ì‹¤í–‰
     - assignToBankClerk() ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹œì‘ë˜ë©´ì„œ delegateë¥¼ í†µí•´ ì „ë‹¬

```swift
struct Bank {
    
    var delegate: BankDelegate?
    // ìƒëµ
    private func assignToBankClerk(_ currentClient: Client) {
        let process = BlockOperation {
            delegate?.startTask(of: currentClient)
            bankClerk.service(to: currentClient)
            delegate?.completeTask(of: currentClient)
        }

        switch currentClient.purposeOfVisit {
        case .deposit:
            depositClerk.maxConcurrentOperationCount = 2
            depositClerk.addOperation(process)
        case .loan:
            loanClerk.maxConcurrentOperationCount = 1
            loanClerk.addOperation(process)
        }
    }
}
```

```swift
protocol BankDelegate {
    func sendData(of client: Client)
    func startTask(of client: Client)
    func completeTask(of client: Client)
}
```

- ì „ë‹¬ë°›ì€ ì •ë³´ë¥¼ viewControllerê°€ í™”ë©´ì— ì—…ë°ì´íŠ¸

```swift
extension BankAppViewController: BankDelegate {
    func sendData(of client: Client) {
        //ëŒ€ê¸°ì¤‘ í™”ë©´ì— ê³ ê° ì •ë³´ ë„ìš°ê¸° (ì½”ë“œ ìƒëµ)
    }
    func startTask(of client: Client) {
        //ëŒ€ê¸°ì¤‘ì— ìˆëŠ” ê³ ê°ì„ ì—…ë¬´ì¤‘ìœ¼ë¡œ ë„˜ê¸°ê¸° (ì½”ë“œ ìƒëµ)
    }
    func completeTask(of client: Client) {
        //ì—…ë¬´ê°€ ì™„ë£Œë˜ë©´ ì—…ë¬´ì¤‘ ê³ ê°ì—ì„œ ì‚­ì œí•˜ê¸° (ì½”ë“œ ìƒëµ)
    }
}
```

</details>

<details>
<summary><big>âœ… fmodë¥¼ ì´ìš©í•œ ì‹œê°„ ê³„ì‚°</big></summary>
- timerë¥¼ ì‘ë™ì‹œí‚¤ëŠ” ë©”ì„œë“œë¡œ` setUpTimer()`ë¥¼ êµ¬í˜„í•˜ê³  selectorì— ë“¤ì–´ê°€ëŠ” ë©”ì„œë“œì¸ `timeUp()` ë©”ì„œë“œ ì•ˆì—ì„œ í¬ë§·ì„ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
    
```swift
@objc private func timeUp() {
    if isOpened == true {
            taskTime += 0.001
    }
    let timeInterval = taskTime
    let minute = (Int)(fmod((timeInterval/60), 60))
    let second = (Int)(fmod(timeInterval, 60))
    let milliSecond = (Int)((timeInterval - floor(timeInterval))*1000) 
    let minuteLabel = String(format: "%02d", minute)
    let secondLabel = String(format: "%02d", second)
    let milliSecondLabel = String(format: "%03d", milliSecond)
    taskTimerLabel.text = " ì—…ë¬´ì‹œê°„ - \(minuteLabel) : \(secondLabel) : \(milliSecondLabel)"
    }

```
- ì´ë•Œ `fmod(_,_)`ë©”ì„œë“œë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œì˜ ê¸°ëŠ¥ì€ ì²«ë²ˆì§¸ ì¸ìë¥¼ ë‘ë²ˆì§¸ ì¸ìë¡œ ë‚˜ëˆ´ì„ ë•Œ, ë”± ë§ê²Œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ë‚˜ë¨¸ì§€ ë¶€ë¶„ì„ ë°˜í™˜í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ìœ„ì˜ ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì´ˆë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶„, ì´ˆ, ë°€ë¦¬ì„¸ì»¨ë“œ ì´ˆë¥¼ ê³„ì‚°í•˜ì—¬ ë°˜í™˜í•´ì£¼ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë˜í•œ ì†Œìˆ˜ì  ê°’ì€ ë¶ˆí•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì—¬ `Int`ë¡œ íƒ€ì…ì„ ë§ì¶°ì£¼ê³ , ìë¦¿ìˆ˜ë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ `String(format:,_)`ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
    
#### fmod
    
<img src="https://i.imgur.com/1hxxk0d.png" width="400">
    
<br/>

- ì˜ˆì‹œ ì½”ë“œ

```swift
let result = fmod(50.5, 1.7) // 50.5/1.7 = 29 + ë‚˜ë¨¸ì§€, 50.5-49.3(29x1.7) = 1.2
print(result)

/*
 x < y : x ê°’ì´ ë°˜í™˜
 x >= y : x/y, ëª«ì„ ëº€ ë‚˜ë¨¸ì§€ (ë‚˜ëˆ ì§€ì§€ ì•ŠëŠ” ê°’ì„ ë°˜í™˜) 

ì˜ˆì‹œ ===> 50.5 / 1.7 = ëª«(29) + ë‚˜ë¨¸ì§€(1.2)
 */

let timeInterval = 57900.05 // ì´ˆ
/*
 57900.05 ì´ˆë¥¼ ì‹œ, ë¶„, ì´ˆ, ë°€ë¦¬ì´ˆë¡œ í™˜ì‚°í•˜ëŠ” ê³„ì‚°ì‹
 */

let hour = (Int)(fmod((timeInterval/60/60), 12)) // 1ì‹œê°„ = 3600 ì´ˆ

/*
 ì‹œê°„ 12ë¡œ í•˜ë©´ => 4ì‹œ
 ì‹œê°„ 24ë¡œ í•˜ë©´ => 16ì‹œ
 */

let minute = (Int)(fmod((timeInterval/60), 60)) // 1400ì´ˆ = 23ë¶„
let second = (Int)(fmod(timeInterval, 60)) // 20ì´ˆ

let milliSecond = (Int)((timeInterval - floor(timeInterval))*1000) // 050
```
</details>
   
    
    
# íŒ€ íšŒê³ 

<details>

<summary><big>ğŸ‘­ íŒ€ íšŒê³ </big></summary>

### ìš°ë¦¬ íŒ€ì´ ì˜ í•œì 
- ì‹œê°„ ì•½ì†ì„ ì˜ ì§€ì¼œ í”„ë¡œì íŠ¸ê°€ ì›í™œíˆ ì§„í–‰ëì–´ìš”!
- ì˜ê²¬ êµí™˜ì´ í™œë°œí–ˆì–´ìš”! ë‹¤ì–‘í•œ ì˜ê²¬ì„ ë‚´ì„œ ì—¬ëŸ¬ê°€ì§€ ì‹œë„ë¥¼ í•´ë³¼ ìˆ˜ ìˆì—ˆì–´ìš”!
- ì„œë¡œ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì„¤ëª…ì„ ì˜ í•´ì£¼ì—ˆì–´ìš”!
- ì–´ë ¤ìš´ ë¶€ë¶„ì„ ê°™ì´ ì°¾ì•„ í•´ê²°í–ˆì–´ìš”!

### ìš°ë¦¬ íŒ€ì´ ë…¸ë ¥í•  ì 
- ì–´ë ¤ì›Œí–ˆë˜ ë¶€ë¶„ë“¤ì„ ë‹¤ë¥¸ ìº í¼ë“¤ì—ê²Œ ê³µìœ í–ˆìœ¼ë©´ ë” ë¹ ë¥´ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆì„ ê²ƒ ê°™ì•„ìš”!
- ì»¤ë°‹ë‹¨ìœ„ë¥¼ ì„¸ì„¸í•˜ê²Œ ë‚˜ëˆ„ë©´ ì¢€ ë” ëª…í™•í–ˆì„ ê²ƒ ê°™ì•„ìš”!
    
### ì„œë¡œ ì¹­ì°¬í•  ì 
- ë¦¬ì§€ê°€ ë¬´ë¦¬ì—ê²ŒğŸ«¶
ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ë§Œë‚¬ì„ ë•Œ, ì ê·¹ì ìœ¼ë¡œ ì°¾ì•„ë³´ê³  í•´ê²°ë°©ë²•ì„ ê³µìœ í•´ì£¼ì–´ í”„ë¡œì íŠ¸ í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‘
ì œê°€ ë‚¸ ì˜ê²¬ì„ ëª¨ë‘ ë°˜ì˜í•´ì£¼ê³  ì´í•´í•´ì£¼ë ¤ê³  í•´ì„œ ë„ˆë¬´ ê°ì‚¬í–ˆì–´ìš” ğŸ‘
ë˜ ì„œë¡œ í† ë¡ ì„ ë§ì´í•´ì„œ ë¬´ë¦¬ ë•ë¶„ì— ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ë§ì€ ê³µë¶€ë¥¼ í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤!ğŸ‘¯â€â™€ï¸ğŸ‰

- ë¬´ë¦¬ê°€ ë¦¬ì§€ì—ê²ŒğŸ«¶
ì‹œê°„ì•½ì†ì„ ì˜ ì§€ì¼œì£¼ì…”ì„œ ê°ì‚¬í–ˆì–´ìš”! ì¤‘ê°„ì— ì»¨ë””ì…˜ì´ ì•ˆì¢‹ì•„ì ¸ì„œ í˜ë“¤ì–´í•˜ëŠ” ì €ë¥¼ ìœ„í•´ ë°°ë ¤í•´ì£¼ì…”ì„œ ê°ì‚¬í–ˆìŠµë‹ˆë‹¤ğŸ¥²ğŸ«¶
ë˜ ë¦¬ì§€ ì—´ì •ì´ ë„ˆë¬´ ë©‹ì¡Œì–´ìš”...! ê·¸ë‚  í”„ë¡œì íŠ¸í•œ ë‚´ìš© ì •ë¦¬ê¹Œì§€...ğŸ‘ ì§„ì§œ ëŒ€ë‹¨í•´ìš”! 
í”„ë¡œì íŠ¸ ê¸°ê°„ë™ì•ˆ ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤ğŸ¥¹!! ë‹¤ìŒì— ë§Œë‚œë‹¤ë©´ ë” ì¢‹ì€ëª¨ìŠµìœ¼ë¡œ ì°¾ì•„ëµê²Œìš”(?)ğŸ«¶
    
</details>

    
# ì°¸ê³  ë§í¬
- [AppleDeveloper : sleep(forTimeInterval:)](https://developer.apple.com/documentation/foundation/thread/1413673-sleep)
- [AppleDeveloper : DispatchQueue](https://developer.apple.com/documentation/dispatch/dispatchqueue/)
- [AppleDeveloper : global()](https://developer.apple.com/documentation/dispatch/dispatchqueue/2300077-global)
- [AppleDeveloper : wait()](https://developer.apple.com/documentation/dispatch/dispatchworkitem/2016085-wait)
- [AppleDeveloper : DispatchGroup](https://developer.apple.com/documentation/dispatch/dispatchgroup)
- [AppleDeveloper : Timer](https://developer.apple.com/documentation/foundation/timer) 
- [AppleDeveloper : fmod(_ :_ :)](https://developer.apple.com/documentation/accelerate/3804649-fmod)
- [AppleDeveloper : Closure](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/closures/)
- [AppleDeveloper : OperationQueue](https://developer.apple.com/documentation/foundation/operationqueue)
- [AppleDeveloper : sleep(forTimeInterval:)](https://developer.apple.com/documentation/foundation/thread/1413673-sleep)
- [ì•¼ê³°ë‹·ë„· - ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°](https://yagom.net/courses/%eb%8f%99%ec%8b%9c%ec%84%b1-%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%b0%8d-concurrency-programming/)
- [ì†Œë“¤ì´ ë¸”ë¡œê·¸ : ARC ](https://drive.google.com/file/d/1ReVTf77B8eNqPSUu06HlLyfe9-LN-3XD/view?usp=sharing)


